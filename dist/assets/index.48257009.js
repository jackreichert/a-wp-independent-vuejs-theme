import{p as t,a as e,r as s,o,c as n,b as a,t as r,w as i,F as c,d as p,e as l,f as g,h as u,g as d,i as m,j as h,k as f,l as y,m as v}from"./vendor.9f934c08.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(s){const o=new URL(t,location),n=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((s,a)=>{const r=new URL(t,o);if(self[e].moduleMap[r])return s(self[e].moduleMap[r]);const i=new Blob([`import * as m from '${r}';`,`${e}.moduleMap['${r}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){a(new Error(`Failed to import: ${t}`)),n(c)},onload(){s(self[e].moduleMap[r]),n(c)}});document.head.appendChild(c)})),self[e].moduleMap={}}}("/assets/");const k={name:"branding",computed:{siteTitle:function(){return this.$store.getters.getSiteConfig("siteTitle")},siteDescription:function(){return this.$store.getters.getSiteConfig("tagline")}}},$=i("data-v-25884a1c");t("data-v-25884a1c");const P={class:"site-title"},S={class:"site-description"};e();const b=$(((t,e,i,c,p,l)=>{const g=s("router-link");return o(),n("h1",null,[a(g,{to:"/"},{default:$((()=>[a("span",P,r(l.siteTitle),1),a("span",S,r(l.siteDescription),1)])),_:1})])}));k.render=b,k.__scopeId="data-v-25884a1c";const T={methods:{isActive:function(t){return t===this.$router.currentRoute.value.path}},computed:{routes:function(){return this.$store.getters.getPageMenu()}}};T.render=function(t,e,i,u,d,m){const h=s("router-link");return o(),n("nav",null,[a("ul",null,[(o(!0),n(c,null,p(m.routes,(t=>(o(),n("li",{key:t.path},[a(h,{to:t.path,class:{active:m.isActive(t.path)}},{default:l((()=>[g(r(t.title),1)])),_:2},1032,["to","class"])])))),128))])])};const I={name:"Heading",components:{PrimaryNavigation:T,Branding:k}},L={class:"site-header",role:"banner"};I.render=function(t,e,r,i,c,p){const l=s("branding"),g=s("primary-navigation");return o(),n("header",L,[a(l),a(g,{class:"primary-navigation"})])};const _={name:"SiteFooter",components:{PrimaryNavigation:T},computed:{copyright:()=>u().format("YYYY"),siteTitle:function(){return this.$store.getters.getSiteConfig("siteTitle")},routes:()=>routes}},x={class:"site-footer"},M={class:"copy"};_.render=function(t,e,i,c,p,l){const g=s("primary-navigation");return o(),n("footer",x,[a(g,{class:"bottom-navigation"}),a("small",M," Copyright © "+r(l.copyright)+" "+r(l.siteTitle)+". All Rights Reserved. ",1)])};var w=t=>{var e;try{e=window[t];var s="__storage_test__";return e.setItem(s,s),e.removeItem(s),!0}catch(o){return o instanceof DOMException&&(22===o.code||1014===o.code||"QuotaExceededError"===o.name||"NS_ERROR_DOM_QUOTA_REACHED"===o.name)&&e&&0!==e.length}};const O={name:"App",components:{Heading:I,SiteFooter:_},methods:{hi(){console.log("HI")}},beforeCreate(){w("localStorage")&&this.$store.commit("getInitialiseStore"),(0===Object.keys(this.$store.state.post).length||u()>u(this.$store.state.lastUpdated).add(5,"minutes"))&&(console.log("Updating"),this.$store.commit("setSiteConfig"),this.$store.dispatch("fetchSiteMeta"),this.$store.dispatch("getTraverseCategories"),this.$store.dispatch("fetchAllPosts"),this.$store.dispatch("fetchAllPages"),this.$store.dispatch("fetchAllTestimonials"))},beforeMount(){this.$store.dispatch("updateHeadMeta")},updated(){this.$nextTick((function(){window.scrollTo(0,0)}))}};O.render=function(t,e,r,i,p,l){const g=s("heading"),u=s("router-view"),d=s("site-footer");return o(),n(c,null,[a(g),a(u),a(d)],64)};var j={wpSite:"jackreichert.wordpress.com",siteAuthor:"Jack Reichert",perPage:10,traverseID:1209197};const C=m({state:{site:{},found:0,post:{},page:{},"jetpack-testimonial":{},traverse:{},categories:{},traverseIds:[],lastUpdated:""},getters:{getSiteConfig:t=>e=>t.site[e],getBySlug:t=>e=>{for(const s in t.post)if(t.post[s].slug===e)return t.post[s];console.log("page",t.page);for(const s in t.page)if(t.page[s].slug===e)return t.page[s];return!1},orderByDate:t=>e=>Object.keys(t[e]).sort(((s,o)=>t[e][s].date<t[e][o].date)),getPostsInCategory:t=>e=>Object.keys(t.post).filter((s=>{const o=Object.keys(t.post[s].categories);for(let n=0;n<o.length;n++){let a=o[n];if(t.post[s].categories[a].slug===e)return!0}return!1})),getPostsInTag:t=>e=>Object.keys(t.post).filter((s=>{const o=Object.keys(t.post[s].tags);for(let n=0;n<o.length;n++)if(t.post[s].tags[o[n]].slug===e)return!0;return!1})),getPostsForPage:(t,e)=>s=>{const o=(s.pageNum||0)*t.site.perPage;let n=e.orderByDate("post");void 0!==s.category&&(n=e.getPostsInCategory(s.category)),void 0!==s.tag&&(n=e.getPostsInTag(s.tag));const a=n.slice(o,o+t.site.perPage),r={};return a.forEach((e=>{r[e]=t.post[e]})),r},getTestimonials:(t,e)=>()=>{const s=e.orderByDate("jetpack-testimonial");let o={};return s.forEach((e=>{o[e]=t["jetpack-testimonial"][e]})),o},getPreviousPageLink:t=>(e="0")=>{const s=t.site.perPage;e=parseInt(e);const o=Object.keys(t.post).length-e*s>s?e+1:e;return o===e?"/":`/page/${o}`},getNextPageLink:t=>(t="0")=>{const e=(t=parseInt(t))+1;return e>1?`/page/${e}`:"/"},getPreviousPost:(t,e)=>(s="0")=>{const o=e.orderByDate("post"),n=o.indexOf(`post-${s}`);return n<o.length?t.post[o[n+1]].URL.split(t.site.wpSite)[1]:"/"},getNextPost:(t,e)=>(s="0")=>{const o=e.orderByDate("post"),n=o.indexOf(`post-${s}`);return n>0?t.post[o[n-1]].URL.split(t.site.wpSite)[1]:"/"},getPageMenu:t=>()=>Object.keys(t.page).map((e=>(console.log(t.page[e]),{title:t.page[e].title,path:`/${t.page[e].slug}`})))},actions:{fetchSiteMeta(t){const e=`https://public-api.wordpress.com/rest/v1.1/sites/${t.state.site.wpSite}`;d.get(`${e}/`).then((e=>{t.commit("updateSiteMeta",e.data),t.dispatch("updateHeadMeta")}))},updateHeadMeta(t,e="home"){let s=`${t.getters.getSiteConfig("siteTitle")} | ${t.getters.getSiteConfig("tagline")}`;switch(e){case"home":default:s=`${t.getters.getSiteConfig("siteTitle")} | ${t.getters.getSiteConfig("tagline")}`}document.title=s,document.querySelector('meta[name="description"]').setAttribute("content",t.getters.getSiteConfig("tagline")),document.querySelector('meta[name="author"]').setAttribute("content",t.getters.getSiteConfig("siteAuthor"))},fetchAllPosts(t,e={page:0,page_per:20,type:"post"}){const s=`https://public-api.wordpress.com/rest/v1.1/sites/${t.state.site.wpSite}`;console.log("BASE",t.state.site),d.get(`${s}/posts?page=${e.page}&per_page=${e.page_per}&type=${e.type}`).then((s=>{const o=Object.keys(t.state.post).length;t.commit("addPosts",s.data.posts,e.type),t.commit("updateFound",s.data.found),o+s.data.posts.length<=s.data.found?t.dispatch("fetchAllPosts",{page:e.page+1,page_per:e.page_per,type:e.type}):(console.log("done",e.type,t.state[e.type]),t.commit("updateLastUpdated"))}))},fetchAllPages(t){t.dispatch("fetchAllPosts",{page:0,page_per:20,type:"page"})},fetchAllTestimonials(t){t.dispatch("fetchAllPosts",{page:0,page_per:20,type:"jetpack-testimonial"})},getTraverseCategories(t){d.get(`https://public-api.wordpress.com/wp/v2/sites/${t.state.site.wpSite}/categories?parent=${t.state.site.traverseID}`).then((e=>{const s=e.data.map((t=>t.id));s.push(t.state.site.traverseID),t.commit("setTraverseCategories",s)}))}},mutations:{setSiteConfig(t){Object.keys(j).forEach((e=>{t.site[e]=j[e]}))},updateLastUpdated(t){t.lastUpdated=u().format()},addPosts(t,e){for(var s=0;s<e.length;s++){let o=!1;if(t.traverseIds.length){const n=Object.keys(e[s].categories).map((t=>e[s].categories[t].ID));t.traverseIds.forEach((a=>{n.indexOf(a)>=0&&(t.traverse[`post-${e[s].ID}`]=e[s],o=!0)}))}o||(t[e[s].type][`post-${e[s].ID}`]=e[s])}},updateSiteMeta(t,e){t.site.siteTitle=e.name,t.site.tagline=e.description},updateFound(t,e){t.found=e},getInitialiseStore(t){localStorage.getItem("store")&&(console.log("FOUND Storage"),this.replaceState(Object.assign(t,JSON.parse(localStorage.getItem("store")))))},setTraverseCategories(t,e){t.traverseIds=e}}});const N={name:"PostHeader",props:{title:String,url:String,featuredImage:String,date:String,author:String,isPost:Boolean},computed:{permalink:function(){return new URL(this.url).pathname},hasFeaturedImage:function(){return""!==this.featuredImage},unixTimestamp:function(){return u(this.date).unix()},month:function(){return u(this.date).format("MMMM")},day:function(){return u(this.date).date()},year:function(){return u(this.date).year()}},beforeMount(){}},A=i("data-v-305bdcd0");t("data-v-305bdcd0");const D={key:0,class:"image-figure"},H={key:0,class:"entry-meta"},F={class:"month"},R={class:"day"},U={class:"year"};e();const B=A(((t,e,i,p,l,g)=>{const u=s("router-link");return o(),n(c,null,[g.hasFeaturedImage?(o(),n("figure",D,[a("img",{class:"image-heading",src:i.featuredImage+"?w=1600&h=1200&crop=1"},null,8,["src"])])):h("",!0),a("header",{class:g.hasFeaturedImage?"with-img":""},[a("h1",null,[a(u,{to:{path:g.permalink},innerHTML:i.title},null,8,["to","innerHTML"])]),i.isPost?(o(),n("div",H,[a("em",null,"By "+r(i.author),1),a("time",{datetime:g.unixTimestamp},[a("span",F,r(g.month),1),a("span",R,r(g.day),1),a("span",U,r(g.year),1)],8,["datetime"])])):h("",!0)],2)],64)}));N.render=B,N.__scopeId="data-v-305bdcd0";const E={name:"PostFooter",props:{categories:Object,tags:Object,isPost:Boolean},methods:{categoryLink:function(t){return`/category/${t.slug}`},tagLink:function(t){return`/tag/${t.slug}`}}},Y=i("data-v-0ec9e47c");t("data-v-0ec9e47c");const q={class:"doublebar"},J={key:0,class:"db-content"},Q=g("Published in "),z={key:0,class:"tags"},G=g(" Tags: ");e();const K=Y(((t,e,i,l,u,d)=>{const m=s("router-link");return o(),n("footer",null,[a("div",q,[i.isPost?(o(),n("small",J,[Q,(o(!0),n(c,null,p(i.categories,(t=>(o(),n(m,{to:d.categoryLink(t)},{default:Y((()=>[g(r(t.name),1)])),_:2},1032,["to"])))),256))])):h("",!0)]),a("em",null,[i.isPost?(o(),n("small",z,[G,(o(!0),n(c,null,p(i.tags,(t=>(o(),n(m,{to:d.tagLink(t)},{default:Y((()=>[g(r(t.name),1)])),_:2},1032,["to"])))),256))])):h("",!0)])])}));E.render=K,E.__scopeId="data-v-0ec9e47c";const V={name:"NotFound"},W={class:"entry"},X=a("p",{class:"entry-content"},"404 Not Found",-1);V.render=function(t,e,s,a,r,i){return o(),n("article",W,[X])};const Z={name:"navigation",props:{postId:Number},computed:{prevLink:function(){if(this.isSingle())return this.$store.getters.getPreviousPost(this.postId);let t="";return this.isCategory()&&(t+=`/category/${this.$route.params.category}`),t+this.$store.getters.getPreviousPageLink(this.$route.params.pageNum)},nextLink:function(){if(this.isSingle())return this.$store.getters.getNextPost(this.postId);let t="";return this.isCategory()&&(t+=`/category/${this.$route.params.category}`),t+this.$store.getters.getNextPageLink(this.$route.params.pageNum)}},methods:{isSingle:function(){return parseInt(this.$route.params.year)},isCategory:function(){return void 0!==this.$route.params.category}}},tt=i("data-v-6811845f");t("data-v-6811845f");const et=g("Previous"),st={key:1},ot=g("Home"),nt={key:2},at=g("Next");e();const rt=tt(((t,e,r,i,c,p)=>{const l=s("router-link");return o(),n("nav",null,["/"!==p.prevLink?(o(),n(l,{key:0,to:p.prevLink},{default:tt((()=>[et])),_:1},8,["to"])):h("",!0),"/"!==p.prevLink?(o(),n("span",st,"  ♦  ")):h("",!0),a(l,{to:"/"},{default:tt((()=>[ot])),_:1}),"/"!==p.nextLink?(o(),n("span",nt,"  ♦  ")):h("",!0),"/"!==p.nextLink?(o(),n(l,{key:3,to:p.nextLink},{default:tt((()=>[at])),_:1},8,["to"])):h("",!0)])}));Z.render=rt,Z.__scopeId="data-v-6811845f";const it={name:"Testimonial",props:{post:Object},components:{},computed:{testimonials:function(){return this.$store.getters.getTestimonials()},content:function(){return this.post.content.replace("[testimonials]","")}},methods:{getYear:function(t){return u(t).year()}}},ct={class:"entry-content"};it.render=function(t,e,s,i,l,u){return o(),n("div",ct,[a("div",{innerHTML:u.content},null,8,["innerHTML"]),(o(!0),n(c,null,p(u.testimonials,(t=>(o(),n("blockquote",null,[a("div",{innerHTML:t.content},null,8,["innerHTML"]),a("cite",null,[a("span",{innerHTML:t.title},null,8,["innerHTML"]),g(" "+r(u.getYear(t.date)),1)])])))),256))])};const pt={name:"Post",components:{PostHeader:N,PostFooter:E,Navigation:Z,Testimonial:it,NotFound:V},props:{post:Object,excerpt:{type:Boolean,default:!1}},computed:{isTestimonials:function(){return this.post.content.includes("[testimonials]")}}},lt={key:0,class:"entry"};pt.render=function(t,e,r,i,p,l){const g=s("post-header"),u=s("testimonial"),d=s("post-footer"),m=s("not-found"),f=s("navigation");return o(),n(c,null,[r.post?(o(),n("article",lt,[a(g,{title:r.post.title,url:r.post.URL,"featured-image":r.post.featured_image,date:r.post.date,author:r.post.author.name,"is-post":"post"===r.post.type},null,8,["title","url","featured-image","date","author","is-post"]),l.isTestimonials?(o(),n(u,{key:0,post:this.post},null,8,["post"])):(o(),n("div",{key:1,class:"entry-content",innerHTML:r.excerpt?r.post.excerpt:r.post.content},null,8,["innerHTML"])),a(d,{tags:r.post.tags,categories:r.post.categories,"is-post":"post"===r.post.type},null,8,["tags","categories","is-post"])])):(o(),n(m,{key:1})),r.excerpt?h("",!0):(o(),n(f,{key:2,"post-id":r.post.ID},null,8,["post-id"]))],64)};const gt={name:"index",props:{},components:{Post:pt,Navigation:Z},computed:{posts:function(){return this.$store.getters.getPostsForPage(this.$route.params)}},mounted(){}},ut={class:"list list-posts container home"};gt.render=function(t,e,r,i,l,g){const u=s("post"),d=s("navigation");return o(),n("main",ut,[(o(!0),n(c,null,p(g.posts,(t=>(o(),n(u,{key:t.ID,post:t,excerpt:!0},null,8,["post"])))),128)),a(d)])};const dt={name:"single",props:{},components:{Post:pt,Testimonial:it},computed:{singlePost:function(){return this.$store.getters.getBySlug(this.$route.params.slug)}},mounted(){console.log("single")}};dt.render=function(t,e,r,i,c,p){const l=s("post");return o(),n("main",null,[a(l,{key:p.singlePost.ID,post:p.singlePost},null,8,["post"])])};const mt=[{path:"/",component:gt,props:{text:"Blogroll"}},{path:"/page/:pageNum?",component:gt,props:{text:"Blogroll"}},{path:"/:year(\\d+)/:month(\\d+)/:day(\\d+)?/:slug",component:dt,props:{text:"Single"}},{path:"/category/:category",component:gt,props:{text:"Categories"}},{path:"/category/:category/page/:pageNum",component:gt,props:{text:"Categories"}},{path:"/tag/:tag",component:gt,props:{text:"Tags"}},{path:"/tag/:tag/page/:pageNum",component:gt,props:{text:"Tags"}},{path:"/:slug",component:dt,props:{text:"Page"}}],ht=f({history:y(),routes:mt,scrollBehavior(){window.scrollTo({top:0,left:0,behavior:"smooth"})}});C.subscribe(((t,e)=>{console.log("storing..."),localStorage.setItem("store",JSON.stringify(e))})),v(O).use(C).use(ht).mount("#app");
